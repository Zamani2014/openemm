/* ==========================================================================
   Emm Birt JS - nightly build 18-08-2021
   ========================================================================== */

/* License
   ========================================================================== */

/**
 * EMM License to be added
 *
 **/



/* Libraries
   ========================================================================== */

/**
 * iFrame Resizer v2.6.3
 *
 * (c) 2014 David J. Bradshaw - dave@bradshaw.net
 * Licensed under MIT
 *
 * https://davidjbradshaw.github.io/iframe-resizer/
 **/

!function(){"use strict";var n=!0,i=10,o="",r=0,a="",c="",u=!1,l={resize:1,click:1},e=128,s=1,d=!0,f="offset",m=f,g=!0,v="",h=32,b=!1,w="[iFrameSizer]",y=w.length,p="",E=!1,S={max:1,scroll:1,bodyScroll:1,documentElementScroll:1},M="*",O=window.parent,T=0,z=!1,t=null,I=1;function L(t,e,n){"addEventListener"in window?t.addEventListener(e,n,!1):"attachEvent"in window&&t.attachEvent("on"+e,n)}function x(t){return w+"["+p+"] "+t}function C(t){b&&"object"==typeof window.console&&console.log(x(t))}function k(t){"object"==typeof window.console&&console.warn(x(t))}function F(){C("Initialising iFrame"),function(){var t=v.substr(y).split(":");function e(t){return"true"===t}p=t[0],r=void 0!==t[1]?Number(t[1]):r,u=void 0!==t[2]?e(t[2]):u,b=void 0!==t[3]?e(t[3]):b,h=void 0!==t[4]?Number(t[4]):h,E=void 0!==t[5]?e(t[5]):E,n=void 0!==t[6]?e(t[6]):n,a=t[7],m=void 0!==t[8]?t[8]:m,o=t[9],c=t[10],T=void 0!==t[11]?Number(t[11]):T}(),function(){void 0===a&&(a=r+"px");(function(t,e){-1!==e.indexOf("-")&&(k("Negative CSS value ignored for "+t),e="")})("margin",a),H("margin",a)}(),H("background",o),H("padding",c),function(){var t=document.createElement("div");t.style.clear="both",t.style.display="block",document.body.appendChild(t)}(),N(),document.documentElement.style.height="",document.body.style.height="",C('HTML & body height set to "auto"'),E&&(C("Enable public methods"),window.parentIFrame={close:function(){J("close","parentIFrame.close()",0,0)},getId:function(){return p},reset:function(){$("parentIFrame.size")},scrollTo:function(t,e){G(e,t,"scrollTo")},scrollToOffset:function(t,e){G(e,t,"scrollToOffset")},sendMessage:function(t,e){G(0,0,"message",JSON.stringify(t),e)},setHeightCalculationMethod:function(t){m=t,N()},setTargetOrigin:function(t){C("Set targetOrigin: "+t),M=t},size:function(t,e){var n=(t||"")+(e?","+e:"");K(),J("size","parentIFrame.size("+n+")",t,e)}}),!0===n?(L(window,"resize",function(){J("resize","Window resized")}),L(window,"click",function(){J("click","Window clicked")}),function(){var n=window.MutationObserver||window.WebKitMutationObserver;n?h<0?P():function(){var t=document.querySelector("body"),e=new n(function(t){J("mutationObserver","mutationObserver: "+t[0].target+" "+t[0].type),function(t){function n(t){void 0!==t.height&&void 0!==t.width&&0!==t.height&&0!==t.width||(C("Attach listerner to "+t.src),L(t,"load",function(){J("imageLoad","Image loaded")}))}t.forEach(function(t){if("attributes"===t.type&&"src"===t.attributeName)n(t.target);else if("childList"===t.type){var e=t.target.querySelectorAll("img");Array.prototype.forEach.call(e,function(t){n(t)})}})}(t)});C("Enable MutationObserver"),e.observe(t,{attributes:!0,attributeOldValue:!1,characterData:!0,characterDataOldValue:!1,childList:!0,subtree:!0})}():(k("MutationObserver not supported in this browser!"),P())}()):C("Auto Resize disabled"),J("init","Init message from host page")}function H(t,e){void 0!==e&&""!==e&&"null"!==e&&C("Body "+t+' set to "'+(document.body.style[t]=e)+'"')}function N(){f!==m&&(m in q||(k(m+" is not a valid option for heightCalculationMethod."),m="bodyScroll"),C('Height calculation method set to "'+m+'"'))}function P(){0!==h&&(C("setInterval: "+h+"ms"),setInterval(function(){J("interval","setInterval: "+h)},Math.abs(h)))}function A(){function t(t){var o=document.body,e=0;return e="defaultView"in document&&"getComputedStyle"in document.defaultView?null!==(e=document.defaultView.getComputedStyle(o,null))?e[t]:0:function(t){if(/^\d+(px)?$/i.test(t))return parseInt(t,i);var e=o.style.left,n=o.runtimeStyle.left;return o.runtimeStyle.left=o.currentStyle.left,o.style.left=t||0,t=o.style.pixelLeft,o.style.left=e,o.runtimeStyle.left=n,t}(o.currentStyle[t]),parseInt(e,i)}return document.body.offsetHeight+t("marginTop")+t("marginBottom")}function B(){return document.body.scrollHeight}function R(){return document.documentElement.offsetHeight}function V(){return document.documentElement.scrollHeight}function W(){return[A(),B(),R(),V()]}function D(){return Math.max.apply(null,W())}var q={offset:A,bodyOffset:A,bodyScroll:B,documentElementOffset:R,scroll:V,documentElementScroll:V,max:D,min:function(){return Math.min.apply(null,W())},grow:D,lowestElement:function(){return Math.max(A(),function(){for(var t=document.querySelectorAll("body *"),e=t.length,n=0,o=(new Date).getTime(),i=0;i<e;i++)t[i].getBoundingClientRect().bottom>n&&(n=t[i].getBoundingClientRect().bottom);return o=(new Date).getTime()-o,C("Parsed "+e+" HTML elements"),C("LowestElement bottom position calculated in "+o+"ms"),n}())}};function j(){return Math.max(document.documentElement.scrollWidth,document.body.scrollWidth)}function J(t,e,n,o){var i,r;function a(){t in{reset:1,resetPage:1,init:1}||C("Trigger event: "+e)}function c(t,e){return!(Math.abs(t-e)<=T)}z&&t in l?C("Trigger event cancelled: "+t):(i=void 0!==n?n:q[m](),r=void 0!==o?o:j(),c(s,i)||u&&c(I,r)?(a(),K(),G(s=i,I=r,t)):!(t in{init:1,interval:1,size:1})&&m in S?$(e):t in{interval:1}||(a(),C("No change in size detected")))}function K(){z||(z=!0,C("Trigger event lock on")),clearTimeout(t),t=setTimeout(function(){z=!1,C("Trigger event lock off"),C("--")},e)}function U(t){s=q[m](),I=j(),G(s,I,t)}function $(t){var e=m;m=f,C("Reset trigger event: "+t),K(),U("reset"),m=e}function G(t,e,n,o,i){var r;void 0===i?i=M:C("Message targetOrigin: "+i),C("Sending message to host page ("+(r=p+":"+(t+":"+e)+":"+n+(void 0!==o?":"+o:""))+")"),O.postMessage(w+r,i)}L(window,"message",function(t){w===(""+t.data).substr(0,y)&&(d&&t.data.split(":")[2]in{true:1,false:1}?(v=t.data,O=t.source,F(),d=!1,setTimeout(function(){g=!1},e)):"reset"===t.data.split("]")[1]?g?C("Page reset ignored by init"):(C("Page size reset by host page"),U("resetPage")):t.data===v||"iFrameResize"in window||k("Unexpected message ("+t.data+")"))})}(),function(){var t,e,n,o=!!window.sidebar;t=window,e="load",n=function(){birtCommunicationManager.postProcess=function(){BirtCommunicationManager.prototype.postProcess.call(this),o&&window.setInterval(function(){window.parentIFrame.size()},500)}},"addEventListener"in window?t.addEventListener(e,n,!1):"attachEvent"in window&&t.attachEvent("on"+e,n)}();